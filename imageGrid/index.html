<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<link rel="stylesheet" href="reset.css" />
		<link rel="stylesheet" href="style.css" />
	</head>
	<body>
		<div class="wrapper">
			<div class="box" data-i="13" data-title="⇒⊚⇐"></div>
			<div class="box" data-i="0" data-title="↓"></div>
			<div class="box" data-i="1" data-title="→"></div>
			<div class="box" data-i="2" data-title="🎲"></div>
			<div class="box" data-i="3" data-title="↖"></div>
			<div class="box" data-i="4" data-title="↘"></div>
			<div class="box" data-i="5" data-title="↗"></div>
			<div class="box" data-i="6" data-title="↙"></div>
			<div class="box" data-i="7" data-title="↖↘"></div>
			<div class="box" data-i="8" data-title="↘↖"></div>
			<div class="box" data-i="9" data-title="🤔"></div>
			<div class="box" data-i="10" data-title="↙↗"></div>
			<div class="box" data-i="11" data-title="↗↙"></div>
			<div class="box" data-i="12" data-title="⇐⊚⇒"></div>
		</div>
		<script>
			class GridAnimation {
				constructorel(el, row = 15, col = 15) {
					// colume = x(세로 축), row = y(가로 축)..
					this.element = el;
					this.row = row;
					this.col = col;

					this.element.style.setProperty("--row", this.row);
					this.element.style.setProperty("--col", this.col);

					this.randomIntBetween = (min, max) => {
						return Math.floor(
							Math.random() * (max - min + 1) + min
						);
					};
				}
				animate() {
					const duration = 2000;
					for (let i = 0; i < this.row; i++) {
						for (let j = 0; j < this.col; j++) {
							const fragment = document.createElement("div");
							fragment.className = "fragment";
							fragment.style.setProperty("--x", j);
							fragment.style.setProperty("--y", i);

							const delay = i;
							fragment.style.setProperty("--delay", delay + "ms");
							fragment.style.setProperty(
								"--duration",
								duration + "ms"
							);

							this.element.appendChild(fragment);
						}
					}
				}
			}

			const imgBox = document.querySelector(".wrapper");
			new GridAnimation(imgBox).animate();
		</script>
	</body>
</html>
